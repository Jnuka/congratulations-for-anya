const HELPS = {
    //easy
    1: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1052, 1072, 1081, 1082, 1083, 32, 1044, 1078, 46, 32, 1060, 1086, 1082, 1089, 44, 32, 1050, 1088, 1080, 1089, 1090, 1086, 1092, 1077, 1088, 32, 1051, 1083, 1086, 1081, 1076, 44, 32, 1051, 1080, 1072, 32, 1058, 1086, 1084, 1087, 1089, 1086, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1053, 1072, 1079, 1072, 1076, 32, 1074, 32, 1073, 1091, 1076, 1091, 1097, 1077, 1077]
    ],
    2: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1051, 1077, 1086, 1085, 1072, 1088, 1076, 1086, 32, 1044, 1080, 1050, 1072, 1087, 1088, 1080, 1086, 44, 32, 1044, 1078, 1086, 1079, 1077, 1092, 32, 1043, 1086, 1088, 1076, 1086, 1085, 45, 1051, 1077, 1074, 1080, 1090, 1090, 44, 32, 1069, 1083, 1083, 1080, 1086, 1090, 32, 1055, 1077, 1081, 1076, 1078],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1053, 1072, 1095, 1072, 1083, 1086]
    ],
    3: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1082, 1086, 1084, 1077, 1076, 1080, 1103],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1044, 1078, 1077, 1085, 1085, 1080, 1092, 1077, 1088, 32, 1069, 1085, 1080, 1089, 1090, 1086, 1085, 44, 32, 1050, 1086, 1088, 1090, 1085, 1080, 32, 1050, 1086, 1082, 1089, 44, 32, 1051, 1080, 1079, 1072, 32, 1050, 1091, 1076, 1088, 1086, 1091],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1044, 1088, 1091, 1079, 1100, 1103]
    ],
    4: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1058, 1086, 1073, 1080, 32, 1052, 1072, 1075, 1091, 1072, 1081, 1088, 44, 32, 1059, 1080, 1083, 1083, 1077, 1084, 32, 1044, 1077, 1092, 1086, 44, 32, 1050, 1080, 1088, 1089, 1090, 1077, 1085, 32, 1044, 1072, 1085, 1089, 1090],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1063, 1077, 1083, 1086, 1074, 1077, 1082, 45, 1087, 1072, 1091, 1082]
    ],
    5: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1073, 1086, 1077, 1074, 1080, 1082],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1041, 1088, 1102, 1089, 32, 1059, 1080, 1083, 1083, 1080, 1089, 44, 32, 1040, 1083, 1072, 1085, 32, 1056, 1080, 1082, 1084, 1072, 1085, 44, 32, 1041, 1086, 1085, 1085, 1080, 32, 1041, 1077, 1076, 1077, 1083, 1080, 1072],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1050, 1088, 1077, 1087, 1082, 1080, 1081, 32, 1086, 1088, 1077, 1096, 1077, 1082]
    ],
    6: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1084, 1091, 1083, 1100, 1090, 1092, 1080, 1083, 1100, 1084],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1044, 1078, 1077, 1092, 1092, 32, 1041, 1088, 1080, 1076, 1078, 1077, 1089, 44, 32, 1052, 1072, 1082, 1082, 1077, 1085, 1079, 1080, 32, 1060, 1086, 1081, 44, 32, 1056, 1101, 1081, 1095, 1077, 1083, 32, 1052, 1072, 1082, 1040, 1076, 1072, 1084, 1089],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1052, 1072, 1083, 1077, 1085, 1100, 1082, 1080, 1081, 32, 1087, 1088, 1080, 1085, 1094]
    ],
    7: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1101, 1085, 1090, 1077, 1079, 1080],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1069, 1083, 1072, 1081, 1076, 1078, 1072, 32, 1042, 1091, 1076, 44, 32, 1048, 1101, 1085, 32, 1052, 1072, 1082, 1082, 1077, 1083, 1083, 1077, 1085, 44, 32, 1064, 1086, 1085, 32, 1069, 1089, 1090, 1080, 1085, 32],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1042, 1083, 1072, 1089, 1090, 1077, 1083, 1080, 1085, 32, 1082, 1086, 1083, 1077, 1094]
    ],
    8: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1101, 1085, 1090, 1077, 1079, 1080],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1044, 1078, 1072, 1088, 1077, 1076, 32, 1055, 1072, 1076, 1072, 1083, 1077, 1082, 1080, 44, 32, 1044, 1078, 1077, 1085, 1089, 1077, 1085, 32, 1069, 1082, 1083, 1089, 44, 32, 1052, 1080, 1096, 1072, 32, 1050, 1086, 1083, 1083, 1080, 1085, 1079],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1057, 1074, 1077, 1088, 1093, 1098, 1077, 1089, 1090, 1077, 1089, 1090, 1074, 1077, 1085, 1085, 1086, 1077]
    ],
    9: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1056, 1086, 1073, 1077, 1088, 1090, 32, 1044, 1072, 1091, 1085, 1080, 32, 1084, 1083, 46, 44, 32, 1044, 1078, 1077, 1092, 1092, 32, 1041, 1088, 1080, 1076, 1078, 1077, 1089, 44, 32, 1043, 1074, 1080, 1085, 1077, 1090, 32, 1055, 1101, 1083, 1090, 1088, 1086, 1091],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1046, 1077, 1083, 1077, 1079, 1085, 1099, 1081, 32, 1095, 1077, 1083, 1086, 1074, 1077, 1082]
    ],
    10: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1091, 1078, 1072, 1089, 1099],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1053, 1086, 1088, 1084, 1072, 1085, 32, 1056, 1080, 1076, 1091, 1089, 44, 32, 1052, 1077, 1083, 1080, 1089, 1089, 1072, 32, 1057, 1102, 1079, 1072, 1085, 1085, 32, 1052, 1072, 1082, 1041, 1088, 1072, 1081, 1076, 44, 32, 1051, 1086, 1088, 1077, 1085, 32, 1050, 1086, 1093, 1101, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1061, 1086, 1076, 1103, 1095, 1080, 1077, 32, 1084, 1077, 1088, 1090, 1074, 1077, 1094, 1099]
    ],

    // medium
    11: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1056, 1072, 1081, 1072, 1085, 32, 1056, 1077, 1081, 1085, 1086, 1083, 1100, 1076, 1089, 44, 32, 1044, 1078, 1086, 1076, 1080, 32, 1050, 1086, 1084, 1077, 1088, 44, 32, 1051, 1080, 1083, 32, 1056, 1077, 1083, 32, 1061, 1086, 1074, 1077, 1088, 1080],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1043, 1083, 1072, 1074, 1085, 1099, 1081, 32, 1075, 1077, 1088, 1086, 1081]
    ],
    12: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1084, 1091, 1083, 1100, 1090, 1092, 1080, 1083, 1100, 1084],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1052, 1101, 1090, 1090, 1100, 1102, 32, 1041, 1088, 1086, 1076, 1077, 1088, 1080, 1082, 44, 32, 1044, 1078, 1077, 1088, 1077, 1084, 1080, 32, 1040, 1081, 1088, 1086, 1085, 1089, 44, 32, 1053, 1101, 1081, 1090, 1072, 1085, 32, 1051, 1077, 1081, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1050, 1086, 1088, 1086, 1083, 1100, 32, 1083, 1077, 1074]
    ],
    13: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1076, 1088, 1072, 1084, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1050, 1080, 1083, 1083, 1080, 1072, 1085, 32, 1052, 1105, 1088, 1092, 1080, 44, 32, 1055, 1086, 1083, 32, 1040, 1085, 1076, 1077, 1088, 1089, 1086, 1085, 44, 32, 1061, 1077, 1083, 1077, 1085, 32, 1052, 1072, 1082, 1082, 1088, 1086, 1088, 1080],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1054, 1089, 1090, 1088, 1099, 1077, 32, 1082, 1086, 1079, 1099, 1088, 1100, 1082, 1080]
    ],
    14: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1090, 1088, 1080, 1083, 1083, 1077, 1088],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1044, 1078, 1086, 1076, 1080, 32, 1060, 1086, 1089, 1090, 1077, 1088, 44, 32, 1069, 1085, 1090, 1086, 1085, 1080, 32, 1061, 1086, 1087, 1082, 1080, 1085, 1089, 44, 32, 1041, 1088, 1091, 1082, 32, 1057, 1084, 1080, 1090],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1052, 1086, 1083, 1095, 1072, 1085, 1080, 1077, 32, 1103, 1075, 1085, 1103, 1090]
    ],
    15: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1090, 1088, 1080, 1083, 1083, 1077, 1088],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1051, 1077, 1086, 1085, 1072, 1088, 1076, 1086, 32, 1044, 1080, 1050, 1072, 1087, 1088, 1080, 1086, 44, 32, 1052, 1101, 1090, 1090, 32, 1044, 1101, 1081, 1084, 1086, 1085, 44, 32, 1044, 1078, 1077, 1082, 32, 1053, 1080, 1082, 1086, 1083, 1089, 1086, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1054, 1090, 1089, 1090, 1091, 1087, 1085, 1080, 1082, 1080]
    ],
    16: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1069, 1096, 1090, 1086, 1085, 32, 1050, 1091, 1090, 1095, 1077, 1088, 44, 32, 1069, 1084, 1080, 32, 1057, 1084, 1072, 1088, 1090, 44, 32, 1069, 1083, 1076, 1077, 1085, 32, 1061, 1077, 1085, 1089, 1086, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1069, 1092, 1092, 1077, 1082, 1090, 32, 1073, 1072, 1073, 1086, 1095, 1082, 1080]
    ],
    17: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1076, 1088, 1072, 1084, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1056, 1086, 1073, 1080, 1085, 32, 1059, 1080, 1083, 1100, 1103, 1084, 1089, 44, 32, 1056, 1086, 1073, 1077, 1088, 1090, 32, 1064, 1086, 1085, 32, 1051, 1077, 1086, 1085, 1072, 1088, 1076, 44, 32, 1048, 1090, 1072, 1085, 32, 1061, 1086, 1091, 1082, 32],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1054, 1073, 1097, 1077, 1089, 1090, 1074, 1086, 32, 1084, 1105, 1088, 1090, 1074, 1099, 1093, 32, 1087, 1086, 1101, 1090, 1086, 1074]
    ],
    18: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1072, 1085, 1080, 1084, 1077],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1056, 1091, 1084, 1080, 32, 1061, 1080, 1080, 1088, 1072, 1075, 1080, 44, 32, 1052, 1080, 1102, 32, 1048, 1088, 1080, 1085, 1086, 44, 32, 1052, 1072, 1088, 1080, 32, 1053, 1072, 1094, 1091, 1082, 1080],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1059, 1085, 1077, 1089, 1105, 1085, 1085, 1099, 1077, 32, 1087, 1088, 1080, 1079, 1088, 1072, 1082, 1072, 1084, 1080]
    ],

    // hard
    19: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1072, 1085, 1090, 1072, 1089, 1090, 1080, 1082, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1041, 1088, 1102, 1089, 32, 1059, 1080, 1083, 1083, 1080, 1089, 44, 32, 1052, 1080, 1083, 1083, 1072, 32, 1049, 1086, 1074, 1086, 1074, 1080, 1095, 44, 32, 1043, 1072, 1088, 1080, 32, 1054, 1083, 1076, 1084, 1072, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1055, 1103, 1090, 1099, 1081, 32, 1101, 1083, 1077, 1084, 1077, 1085, 1090]
    ],
    20: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1092, 1101, 1085, 1090, 1077, 1079, 1080],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1055, 1080, 1090, 1077, 1088, 32, 1044, 1080, 1085, 1082, 1083, 1101, 1081, 1076, 1078, 44, 32, 1051, 1080, 1085, 1072, 32, 1061, 1080, 1076, 1080, 44, 32, 1069, 1084, 1080, 1083, 1080, 1103, 32, 1050, 1083, 1072, 1088, 1082],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1048, 1075, 1088, 1072, 32, 1087, 1088, 1077, 1089, 1090, 1086, 1083, 1086, 1074]
    ],
    21: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1084, 1091, 1083, 1100, 1090, 1092, 1080, 1083, 1100, 1084],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1069, 1084, 1080, 32, 1055, 1086, 1083, 1077, 1088, 44, 32, 1060, 1080, 1083, 1083, 1080, 1089, 32, 1057, 1084, 1080, 1090, 44, 32, 1056, 1080, 1095, 1072, 1088, 1076, 32, 1050, 1072, 1081, 1085, 1076],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1043, 1086, 1083, 1086, 1074, 1086, 1083, 1086, 1084, 1082, 1072]
    ],
    22: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1090, 1088, 1080, 1083, 1083, 1077, 1088],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1051, 1077, 1086, 1085, 1072, 1088, 1076, 1086, 32, 1044, 1080, 1050, 1072, 1087, 1088, 1080, 1086, 44, 32, 1052, 1072, 1088, 1082, 32, 1056, 1091, 1092, 1092, 1072, 1083, 1086, 44, 32, 1041, 1077, 1085, 32, 1050, 1080, 1085, 1075, 1089, 1083, 1080],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1054, 1089, 1090, 1088, 1086, 1074, 32, 1087, 1088, 1086, 1082, 1083, 1103, 1090, 1099, 1093]
    ],
    23: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1082, 1086, 1084, 1077, 1076, 1080, 1103],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1052, 1072, 1082, 1086, 1083, 1077, 1081, 32, 1050, 1072, 1083, 1082, 1080, 1085, 44, 32, 1044, 1078, 1086, 32, 1055, 1077, 1096, 1080, 44, 32, 1044, 1101, 1085, 1080, 1077, 1083, 32, 1057, 1090, 1077, 1088, 1085],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1054, 1076, 1080, 1085, 32, 1076, 1086, 1084, 1072]
    ],
    24: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1076, 1088, 1072, 1084, 1072],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1056, 1072, 1089, 1089, 1077, 1083, 32, 1050, 1088, 1086, 1091, 44, 32, 1069, 1076, 32, 1061, 1072, 1088, 1088, 1080, 1089, 44, 32, 1044, 1078, 1077, 1085, 1085, 1080, 1092, 1077, 1088, 32, 1050, 1086, 1085, 1085, 1077, 1083, 1083, 1080, 32],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1048, 1075, 1088, 1099, 32, 1088, 1072, 1079, 1091, 1084, 1072]
    ],
    25: [
        [49, 46, 9, 1046, 1072, 1085, 1088, 58, 32, 1073, 1080, 1086, 1075, 1088, 1072, 1092, 1080, 1103],
        [50, 46, 9, 1040, 1082, 1090, 1077, 1088, 1099, 58, 32, 1042, 1080, 1075, 1075, 1086, 32, 1052, 1086, 1088, 1090, 1077, 1085, 1089, 1077, 1085, 44, 32, 1052, 1072, 1093, 1077, 1088, 1096, 1072, 1083, 1072, 32, 1040, 1083, 1080, 44, 32, 1051, 1080, 1085, 1076, 1072, 32, 1050, 1072, 1088, 1076, 1077, 1083, 1083, 1080, 1085, 1080],
        [51, 46, 9, 1054, 1090, 1074, 1077, 1090, 58, 32, 1047, 1077, 1083, 1105, 1085, 1072, 1103, 32, 1082, 1085, 1080, 1075, 1072]
    ]
}; 

const TIME = 0//60; // time in seconds

const getHelpButtonNotReadyMsg = (time) => {return `Следующая подсказка будет доступна через ${time} секунд(ы)`};
const HELP_IS_READY_MSG = "Доступна новая подсказка!";
const USED_ALL_HELPS_MSG = "Использованы все доступные подсказки";

const getHelpMsgs = (stage) => {
    let arr = [];
    let hints = HELPS[stage];

    for (let i = 0; i < hints.length; i++) {
        let str = "";
        for (let j = 0; j < hints[i].length; j++) {
            str += String.fromCharCode(hints[i][j]);
        }
        arr[i] = str;
    } 

    return arr;
};

const stubResolveMsgs = (elements, stubs) => {
    for (let i = 0; i < elements.length; i++) {
        elements[i].innerHTML = stubs[i];
    }
}

const resolveHelpMsgs = (elements, realMsgs, countOfClicks) => {
    for (let i = 0; i < elements.length; i++) {
        if (i <= countOfClicks - 1) {
            elements[i].innerHTML = realMsgs[i];
        }
    }
};

function startTimer() {
    time -= 1;

    if (time <= 0) {
        helpButton.innerHTML = HELP_IS_READY_MSG;
        helpButton.disabled = false;     
        clearTimeout(timer);
    } else {
        helpButton.innerHTML = getHelpButtonNotReadyMsg(time);
        timer = setTimeout(startTimer, 1000);
    }
}

function resetTimer() {
    clearTimeout(timer);
    
    time = TIME + 1;
    cliks = 0;
    helpButton.disabled = true;

    helpMsgsTextArray = getHelpMsgs(stage);
    let helpMsgStubArray = ["1. ...", "2. ...", "3. ..."];

    stubResolveMsgs(helpMsgElementArray, helpMsgStubArray);

    startTimer();
}

// Start script
let time = TIME + 1;
let timer;

let cliks = 0;

let helpButton = document.getElementById("button-help");
helpButton.disabled = true;

let helpMsgElementArray = [document.getElementById("help_1"), document.getElementById("help_2"), document.getElementById("help_3")];
let helpMsgsTextArray = [];

helpButton.addEventListener("click", () => {
    if (time <= 0) {
        time = TIME + 1;
        cliks += 1;
        
        resolveHelpMsgs(helpMsgElementArray, helpMsgsTextArray, cliks);   

        if (cliks < 3) {
            startTimer();
        } else {
            helpButton.innerHTML = USED_ALL_HELPS_MSG;
        }
    }
});

resetTimer();